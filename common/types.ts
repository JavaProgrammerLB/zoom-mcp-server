import { z } from "zod";

export const TokenSchema = z.object({
  access_token: z.string(),
  token_type: z.string(),
  expires_in: z.number(),
  scope: z.string(),
  api_url: z.string(),
});

export const ZoomMeetingSettingsSchema = z.object({
  host_video: z.boolean().optional(),
  participant_video: z.boolean().optional(),
  cn_meeting: z.boolean().optional(),
  in_meeting: z.boolean().optional(),
  join_before_host: z.boolean().optional(),
  jbh_time: z.number().optional(),
  mute_upon_entry: z.boolean().optional(),
  watermark: z.boolean().optional(),
  use_pmi: z.boolean().optional(),
  approval_type: z.number().optional(),
  audio: z.string().optional(),
  auto_recording: z.string().optional(),
  enforce_login: z.boolean().optional(),
  enforce_login_domains: z.string().optional(),
  alternative_hosts: z.string().optional(),
  alternative_host_update_polls: z.boolean().optional(),
  close_registration: z.boolean().optional(),
  show_share_button: z.boolean().optional(),
  allow_multiple_devices: z.boolean().optional(),
  registrants_confirmation_email: z.boolean().optional(),
  waiting_room: z.boolean().optional(),
  request_permission_to_unmute_participants: z.boolean().optional(),
  registrants_email_notification: z.boolean().optional(),
  meeting_authentication: z.boolean().optional(),
  encryption_type: z.string().optional(),
  approved_or_denied_countries_or_regions: z.object({
    enable: z.boolean().optional(),
  }),
  breakout_room: z.object({
    enable: z.boolean().optional(),
  }),
  internal_meeting: z.boolean().optional(),
  continuous_meeting_chat: z.object({
    enable: z.boolean().optional(),
    auto_add_invited_external_users: z.boolean().optional(),
    auto_add_meeting_participants: z.boolean().optional(),
    channel_id: z.string().optional(),
  }),
  participant_focused_meeting: z.boolean().optional(),
  push_change_to_calendar: z.boolean().optional(),
  resources: z.array(z.unknown().optional()),
  allow_host_control_participant_mute_state: z.boolean().optional(),
  alternative_hosts_email_notification: z.boolean().optional(),
  show_join_info: z.boolean().optional(),
  device_testing: z.boolean().optional(),
  focus_mode: z.boolean().optional(),
  meeting_invitees: z.array(z.unknown().optional()),
  private_meeting: z.boolean().optional(),
  email_notification: z.boolean().optional(),
  host_save_video_order: z.boolean().optional(),
  sign_language_interpretation: z.object({
    enable: z.boolean().optional(),
  }),
  email_in_attendee_report: z.boolean().optional(),
});

export const ZoomMeetingSchema = z.object({
  uuid: z.string(),
  id: z.number(),
  host_id: z.string().optional(),
  host_email: z.string().optional(),
  topic: z.string().optional(),
  type: z.number().optional(),
  status: z.string().optional(),
  start_time: z.string().optional(),
  duration: z.number().optional(),
  timezone: z.string().optional(),
  agenda: z.string().optional(),
  created_at: z.string().optional(),
  start_url: z.string().optional(),
  join_url: z.string().optional(),
  password: z.string().optional(),
  h323_password: z.string().optional(),
  pstn_password: z.string().optional(),
  encrypted_password: z.string().optional(),
  settings: ZoomMeetingSettingsSchema,
  creation_source: z.string().optional(),
  pre_schedule: z.boolean().optional(),
});

export const ZoomListMeetingsSchema = z.object({
  page_size: z.number(),
  total_records: z.number(),
  next_page_token: z.string(),
  meetings: z.array(
    z.object({
      uuid: z.string(),
      id: z.number(),
      host_id: z.string().optional(),
      topic: z.string().optional(),
      type: z.number().optional(),
      start_time: z.string().optional(),
      duration: z.number().optional(),
      timezone: z.string().optional(),
      agenda: z.string().optional(),
      created_at: z.string().optional(),
      join_url: z.string().optional(),
    }),
  ),
});
